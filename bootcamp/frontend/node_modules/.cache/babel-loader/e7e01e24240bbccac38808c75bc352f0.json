{"ast":null,"code":"var _jsxFileName = \"/home/reinaldo.junior/Documentos/Referencia/pesado/bootcamp/frontend/src/App.js\";\nimport React, { Component } from \"react\"; // import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser } from \"./actions/authAction\";\nimport { logoutUser } from \"./actions/authAction\";\nimport { clearCurrentProfile } from \"./actions/profileActions\";\nimport { Provider } from \"react-redux\"; // Store\n\nimport store from \"./store\";\nimport axios from \"axios\";\nimport PrivateRoute from \"./components/common/PrivateRoute\";\nimport Navbar from \"./components/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport Footer from \"./components/layout/Footer\";\nimport Register from \"./components/auth/Register\";\nimport Login from \"./components/auth/Login\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\nimport CreateProfile from \"./components/profile/CreateProfile\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport AddExperience from \"./components/profile/AddExperience\";\nimport AddEducation from \"./components/profile/AddEducation\";\nimport Profiles from \"./components/profiles/Profiles\";\nimport Profile from \"./components/profile/public/Profile\";\nimport Posts from \"./components/posts/Posts\";\nimport PostFullView from \"./components/posts/PostFullView\";\nimport NotFound from \"./components/common/NotFound\";\nimport env from \"./environment\";\nimport \"./App.css\"; //axios.defaults.baseURL = \"http://staging.api.questcode.org\";\n//axios.defaults.baseURL = process.env.REACT_APP_API_HOST;\n\naxios.defaults.baseURL = env.API_URL;\nconsole.log(\"Running at \".concat(env.NAME, \" with \").concat(env.API_URL)); // Check for token\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken); // Decode Token and get user info and experience\n\n  const decoded = jwt_decode(localStorage.jwtToken); // Set user and isAuthenticated\n\n  store.dispatch(setCurrentUser(decoded)); // Check for expired token\n\n  const currentTime = Date.now() / 1000;\n\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser()); // Clear current Profile\n\n    store.dispatch(clearCurrentProfile()); // Redirect to login\n\n    window.location.href = \"/login\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return React.createElement(Provider, {\n      store: store,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"default-transp-bg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container pt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Landing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      component: Register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/profiles\",\n      component: Profiles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/profile/:handle\",\n      component: Profile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/dashboard\",\n      component: Dashboard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/create-profile\",\n      component: CreateProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/edit-profile\",\n      component: EditProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/add-experience\",\n      component: AddExperience,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/add-education\",\n      component: AddEducation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/feed\",\n      component: Posts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/post/:id\",\n      component: PostFullView,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(Route, {\n      exact: true,\n      path: \"/404\",\n      component: NotFound,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/reinaldo.junior/Documentos/Referencia/pesado/bootcamp/frontend/src/App.js"],"names":["React","Component","HashRouter","Router","Route","Switch","jwt_decode","setAuthToken","setCurrentUser","logoutUser","clearCurrentProfile","Provider","store","axios","PrivateRoute","Navbar","Landing","Footer","Register","Login","Dashboard","CreateProfile","EditProfile","AddExperience","AddEducation","Profiles","Profile","Posts","PostFullView","NotFound","env","defaults","baseURL","API_URL","console","log","NAME","localStorage","jwtToken","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n// import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser } from \"./actions/authAction\";\nimport { logoutUser } from \"./actions/authAction\";\nimport { clearCurrentProfile } from \"./actions/profileActions\";\n\nimport { Provider } from \"react-redux\"; // Store\nimport store from \"./store\";\nimport axios from \"axios\";\n\nimport PrivateRoute from \"./components/common/PrivateRoute\";\n\nimport Navbar from \"./components/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport Footer from \"./components/layout/Footer\";\nimport Register from \"./components/auth/Register\";\nimport Login from \"./components/auth/Login\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\nimport CreateProfile from \"./components/profile/CreateProfile\";\nimport EditProfile from \"./components/profile/EditProfile\";\nimport AddExperience from \"./components/profile/AddExperience\";\nimport AddEducation from \"./components/profile/AddEducation\";\nimport Profiles from \"./components/profiles/Profiles\";\nimport Profile from \"./components/profile/public/Profile\";\nimport Posts from \"./components/posts/Posts\";\nimport PostFullView from \"./components/posts/PostFullView\";\nimport NotFound from \"./components/common/NotFound\";\n\nimport env from \"./environment\";\n\nimport \"./App.css\";\n\n//axios.defaults.baseURL = \"http://staging.api.questcode.org\";\n//axios.defaults.baseURL = process.env.REACT_APP_API_HOST;\naxios.defaults.baseURL = env.API_URL;\nconsole.log(`Running at ${env.NAME} with ${env.API_URL}`);\n\n// Check for token\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken);\n  // Decode Token and get user info and experience\n  const decoded = jwt_decode(localStorage.jwtToken);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n\n  // Check for expired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Clear current Profile\n    store.dispatch(clearCurrentProfile());\n    // Redirect to login\n    window.location.href = \"/login\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <Navbar />\n            <div className=\"default-transp-bg\">\n              <div className=\"container pt-4\">\n                <Route exact path=\"/\" component={Landing} />\n                <Route exact path=\"/login\" component={Login} />\n                <Route exact path=\"/register\" component={Register} />\n                <Route exact path=\"/profiles\" component={Profiles} />\n                <Route exact path=\"/profile/:handle\" component={Profile} />\n                <Switch>\n                  <PrivateRoute exact path=\"/dashboard\" component={Dashboard} />\n                  <PrivateRoute\n                    exact\n                    path=\"/create-profile\"\n                    component={CreateProfile}\n                  />\n                  <PrivateRoute\n                    exact\n                    path=\"/edit-profile\"\n                    component={EditProfile}\n                  />\n                  <PrivateRoute\n                    exact\n                    path=\"/add-experience\"\n                    component={AddExperience}\n                  />\n                  <PrivateRoute\n                    exact\n                    path=\"/add-education\"\n                    component={AddEducation}\n                  />\n                  <PrivateRoute exact path=\"/feed\" component={Posts} />\n                  <PrivateRoute\n                    exact\n                    path=\"/post/:id\"\n                    component={PostFullView}\n                  />\n                </Switch>\n                <Route exact path=\"/404\" component={NotFound} />\n              </div>\n            </div>\n            <Footer />\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}